<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Mapping Slayer Original - Complete UI/UX Guide</title>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
                line-height: 1.6;
                color: #333;
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
                background: #f5f5f5;
            }
            .container {
                background: white;
                padding: 40px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            }
            h1 {
                color: #f07727;
                border-bottom: 3px solid #f07727;
                padding-bottom: 10px;
            }
            h2 {
                color: #333;
                border-bottom: 2px solid #ddd;
                padding-bottom: 8px;
                margin-top: 30px;
            }
            h3 {
                color: #555;
                margin-top: 20px;
            }
            .color-box {
                display: inline-block;
                width: 20px;
                height: 20px;
                margin-right: 8px;
                vertical-align: middle;
                border: 1px solid #ddd;
            }
            table {
                width: 100%;
                border-collapse: collapse;
                margin: 15px 0;
            }
            th,
            td {
                border: 1px solid #ddd;
                padding: 8px;
                text-align: left;
            }
            th {
                background-color: #f07727;
                color: white;
            }
            tr:nth-child(even) {
                background-color: #f9f9f9;
            }
            .code {
                background: #f4f4f4;
                padding: 2px 6px;
                border-radius: 3px;
                font-family: 'Courier New', monospace;
                font-size: 0.9em;
            }
            .modal-box {
                border: 2px solid #ddd;
                border-radius: 4px;
                padding: 15px;
                margin: 15px 0;
                background: #fafafa;
            }
            .ui-section {
                background: #f9f9f9;
                border-left: 4px solid #f07727;
                padding: 15px;
                margin: 15px 0;
            }
            .workflow {
                background: #e8f4fd;
                border: 1px solid #bee5eb;
                padding: 15px;
                border-radius: 4px;
                margin: 15px 0;
            }
            .important {
                background: #fff3cd;
                border: 1px solid #ffeeba;
                padding: 10px;
                border-radius: 4px;
                margin: 10px 0;
            }
            .dot-example {
                display: inline-block;
                width: 30px;
                height: 30px;
                border-radius: 50%;
                text-align: center;
                line-height: 30px;
                color: white;
                font-size: 12px;
                font-weight: bold;
                margin: 0 5px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>üó∫Ô∏è Mapping Slayer Original - Complete UI/UX Guide</h1>

            <div class="important">
                <strong>‚ö†Ô∏è Critical Note:</strong> This guide documents the EXACT functionality of
                the original Mapping Slayer Example. The current implementation should match this
                behavior precisely, with NO additional features like context menus.
            </div>

            <h2>1. Initial Application State</h2>

            <h3>1.1 First Load Experience</h3>
            <div class="modal-box">
                <strong>Disclaimer Modal</strong>
                <ul>
                    <li>Appears on first visit (uses sessionStorage)</li>
                    <li>Dark overlay with centered modal</li>
                    <li>Contains usage disclaimer text</li>
                    <li>Single "I AGREE" button to proceed</li>
                    <li>Modal cannot be dismissed without agreeing</li>
                </ul>
            </div>

            <h3>1.2 Empty State</h3>
            <ul>
                <li>Upload area visible in center: "üìÑ Upload PDF or .mslay File"</li>
                <li>Subtext: "Click to browse or drag and drop"</li>
                <li>Note: "For Automap & Scrape functions, please use a PDF with live text."</li>
                <li>All controls are disabled until PDF is loaded</li>
            </ul>

            <h2>2. Visual Design System</h2>

            <h3>2.1 Color Palette</h3>
            <table>
                <tr>
                    <th>Element</th>
                    <th>Color</th>
                    <th>Sample</th>
                    <th>Usage</th>
                </tr>
                <tr>
                    <td>Background</td>
                    <td>#1B1C1D</td>
                    <td><span class="color-box" style="background: #1b1c1d"></span></td>
                    <td>Main app background</td>
                </tr>
                <tr>
                    <td>Panel Background</td>
                    <td>#2E2F31</td>
                    <td><span class="color-box" style="background: #2e2f31"></span></td>
                    <td>Left panel, footer</td>
                </tr>
                <tr>
                    <td>Accent/Brand</td>
                    <td>#f07727</td>
                    <td><span class="color-box" style="background: #f07727"></span></td>
                    <td>Logo, buttons, highlights</td>
                </tr>
                <tr>
                    <td>Text Primary</td>
                    <td>#FFFFFF</td>
                    <td><span class="color-box" style="background: #ffffff"></span></td>
                    <td>Main text on dark bg</td>
                </tr>
                <tr>
                    <td>Text Secondary</td>
                    <td>#B0B0B0</td>
                    <td><span class="color-box" style="background: #b0b0b0"></span></td>
                    <td>Muted text, placeholders</td>
                </tr>
            </table>

            <h3>2.2 Layout Structure</h3>
            <div class="ui-section">
                <strong>CSS Grid Layout:</strong>
                <ul>
                    <li>
                        <strong>Grid Template:</strong> 60px (header) | 1fr (main) | 60px (footer)
                    </li>
                    <li><strong>Columns:</strong> 350px (left panel) | 1fr (map area)</li>
                    <li><strong>Gap:</strong> 2px between all sections</li>
                    <li><strong>Total Height:</strong> 100vh</li>
                </ul>
            </div>

            <h2>3. UI Components Detail</h2>

            <h3>3.1 Header Section (60px height)</h3>
            <div class="ui-section">
                <strong>Left Side:</strong>
                <ul>
                    <li>Logo: "MAPPING" (gray) "SLAYER" (orange) with orange map pin icon</li>
                </ul>
                <strong>Center:</strong>
                <ul>
                    <li>Find All button (orange background)</li>
                    <li>Find input (dark input field)</li>
                    <li>Replace input (dark input field)</li>
                    <li>Replace button (dark gray)</li>
                    <li>Search result counter (when active)</li>
                </ul>
                <strong>Right Side:</strong>
                <ul>
                    <li>Save Project button</li>
                    <li>Load Project button</li>
                    <li>File name display (when loaded)</li>
                </ul>
            </div>

            <h3>3.2 Left Panel (350px width)</h3>

            <h4>Filter Section</h4>
            <div class="ui-section">
                <strong>Header:</strong> "FILTER" with orange "+" button<br />
                <strong>Content:</strong> Dynamic list of marker types
                <ul>
                    <li>Checkbox (checked by default)</li>
                    <li>Marker type code input (editable)</li>
                    <li>Marker type name input (editable)</li>
                    <li>Design reference square (click to upload)</li>
                    <li>Dot color picker</li>
                    <li>Text color picker</li>
                    <li>Delete button (√ó)</li>
                    <li>Count badge showing dots on current page</li>
                </ul>
            </div>

            <h4>List Section</h4>
            <div class="ui-section">
                <strong>Header Controls:</strong>
                <ul>
                    <li>Sort toggle: "BY LOC" ‚Üî "BY NAME"</li>
                    <li>View toggle: "UNGROUPED" ‚Üî "GROUPED"</li>
                    <li>All Pages checkbox</li>
                </ul>
                <strong>Content:</strong>
                <ul>
                    <li>Empty state: "Click on the map to add your first location dot."</li>
                    <li>Flat view: Simple list with location number and message</li>
                    <li>Grouped view: Collapsible sections by marker type</li>
                    <li>Inline editing on click</li>
                    <li>Multi-select with Shift+click</li>
                </ul>
            </div>

            <h3>3.3 Map Section</h3>

            <h4>Overlay Controls (Top-Left)</h4>
            <table>
                <tr>
                    <th>Button</th>
                    <th>Default State</th>
                    <th>Action</th>
                </tr>
                <tr>
                    <td>HELP</td>
                    <td>Gray button</td>
                    <td>Opens controls modal</td>
                </tr>
                <tr>
                    <td>SHOW MSG</td>
                    <td>Gray (messages hidden)</td>
                    <td>Toggles message visibility</td>
                </tr>
                <tr>
                    <td>SHOW MSG2</td>
                    <td>Gray (messages2 hidden)</td>
                    <td>Toggles message2 visibility</td>
                </tr>
                <tr>
                    <td>SHOW LOC</td>
                    <td>Orange (locations visible)</td>
                    <td>Toggles location numbers</td>
                </tr>
                <tr>
                    <td>RENUMBER</td>
                    <td>Gray button</td>
                    <td>Opens renumber modal</td>
                </tr>
            </table>

            <h4>Legends (Top-Right)</h4>
            <div class="ui-section">
                <strong>Project Legend:</strong>
                <ul>
                    <li>Collapsible with arrow indicator</li>
                    <li>Shows all marker types in project</li>
                    <li>Format: [Color dot] CODE - Name (count)</li>
                </ul>
                <strong>Page Legend:</strong>
                <ul>
                    <li>Shows only marker types on current page</li>
                    <li>Same format as project legend</li>
                </ul>
            </div>

            <h4>Page Navigation (Bottom-Center)</h4>
            <ul>
                <li>Previous button (&lt;)</li>
                <li>Page label input field</li>
                <li>Page info: "PAGE X OF Y"</li>
                <li>Next button (&gt;)</li>
            </ul>

            <h4>Scrape Controls (Bottom-Right)</h4>
            <ul>
                <li>H: tolerance input (default 1.0)</li>
                <li>V: tolerance input (default 25.0)</li>
                <li>DOT SIZE: slider (0.5 - 3.0, default 1.0)</li>
            </ul>

            <h3>3.4 Footer Section (60px height)</h3>

            <h4>Automap Container (Left)</h4>
            <ul>
                <li>Marker type dropdown</li>
                <li>Text search input with autocomplete</li>
                <li>"Exact Phrase" checkbox</li>
                <li>"AUTOMAP IT!" button (green)</li>
            </ul>

            <h4>Export Controls (Right)</h4>
            <ul>
                <li>CREATE PDF button</li>
                <li>CREATE MESSAGE SCHEDULE button</li>
                <li>UPDATE FROM MESSAGE SCHEDULE button</li>
                <li>EXPORT REVU MARKUPS (BETA) button</li>
            </ul>

            <h2>4. Dot Appearance & States</h2>

            <h3>4.1 Basic Dot Structure</h3>
            <div class="ui-section">
                <strong>Visual:</strong> Circle with location number inside<br />
                <strong>Size:</strong> Base 30px √ó dotSize multiplier<br />
                <strong>Example:</strong>
                <span class="dot-example" style="background: #f72020">0001</span> Normal
                <span class="dot-example" style="background: #f72020; box-shadow: 0 0 0 3px yellow"
                    >0002</span
                >
                Code Required
                <span class="dot-example" style="background: #f72020; position: relative"
                    >0003<span
                        style="
                            position: absolute;
                            top: -5px;
                            right: -5px;
                            color: blue;
                            font-size: 16px;
                        "
                        >V</span
                    ></span
                >
                Vinyl Backer
            </div>

            <h3>4.2 Dot States</h3>
            <table>
                <tr>
                    <th>State</th>
                    <th>Visual Change</th>
                    <th>When Applied</th>
                </tr>
                <tr>
                    <td>Normal</td>
                    <td>Solid color circle</td>
                    <td>Default state</td>
                </tr>
                <tr>
                    <td>Hover</td>
                    <td>Cursor becomes pointer</td>
                    <td>Mouse over dot</td>
                </tr>
                <tr>
                    <td>Selected</td>
                    <td>Blue outline (3px)</td>
                    <td>After click or multi-select</td>
                </tr>
                <tr>
                    <td>Code Required</td>
                    <td>Yellow ring (3px)</td>
                    <td>When flag is set</td>
                </tr>
                <tr>
                    <td>Vinyl Backer</td>
                    <td>Blue "V" in top-right</td>
                    <td>When flag is set</td>
                </tr>
                <tr>
                    <td>Installed</td>
                    <td>Green diagonal line</td>
                    <td>When flag is set</td>
                </tr>
            </table>

            <h2>5. User Interactions</h2>

            <h3>5.1 Mouse Interactions</h3>
            <table>
                <tr>
                    <th>Action</th>
                    <th>Target</th>
                    <th>Result</th>
                </tr>
                <tr>
                    <td><strong>Left Click</strong></td>
                    <td>Empty map area</td>
                    <td>Add new dot at click position</td>
                </tr>
                <tr>
                    <td><strong>Left Click</strong></td>
                    <td>Existing dot</td>
                    <td>Select dot (clear others)</td>
                </tr>
                <tr>
                    <td><strong>Shift + Left Click</strong></td>
                    <td>Dot</td>
                    <td>Add to selection</td>
                </tr>
                <tr>
                    <td class="important"><strong>Right Click</strong></td>
                    <td class="important">Single dot</td>
                    <td class="important">Opens Edit Location modal IMMEDIATELY</td>
                </tr>
                <tr>
                    <td class="important"><strong>Right Click</strong></td>
                    <td class="important">Multiple selected</td>
                    <td class="important">Opens Group Edit modal IMMEDIATELY</td>
                </tr>
                <tr>
                    <td><strong>Shift + Left Drag</strong></td>
                    <td>Map area</td>
                    <td>Draw selection box</td>
                </tr>
                <tr>
                    <td><strong>Shift + Right Drag</strong></td>
                    <td>Map area</td>
                    <td>Scrape text in area</td>
                </tr>
                <tr>
                    <td><strong>Ctrl + Shift + Right Drag</strong></td>
                    <td>Map area</td>
                    <td>OCR scrape in area</td>
                </tr>
                <tr>
                    <td><strong>Middle Click + Drag</strong></td>
                    <td>Map</td>
                    <td>Pan the map</td>
                </tr>
                <tr>
                    <td><strong>Scroll Wheel</strong></td>
                    <td>Map</td>
                    <td>Zoom in/out</td>
                </tr>
            </table>

            <div class="important">
                <strong>NO CONTEXT MENU EXISTS!</strong> Right-clicking dots opens modals directly.
            </div>

            <h3>5.2 Keyboard Shortcuts</h3>
            <table>
                <tr>
                    <th>Shortcut</th>
                    <th>Action</th>
                </tr>
                <tr>
                    <td><span class="code">Ctrl+Z</span></td>
                    <td>Undo last action</td>
                </tr>
                <tr>
                    <td><span class="code">Ctrl+Y</span></td>
                    <td>Redo action</td>
                </tr>
                <tr>
                    <td><span class="code">Delete</span></td>
                    <td>Delete selected dots</td>
                </tr>
                <tr>
                    <td><span class="code">Ctrl+C</span></td>
                    <td>Copy selected dot</td>
                </tr>
                <tr>
                    <td><span class="code">Ctrl+V</span></td>
                    <td>Paste dot at mouse position</td>
                </tr>
                <tr>
                    <td><span class="code">PageUp/PageDown</span></td>
                    <td>Navigate PDF pages</td>
                </tr>
                <tr>
                    <td><span class="code">Arrow Keys</span></td>
                    <td>Navigate marker types in filter</td>
                </tr>
                <tr>
                    <td><span class="code">Enter</span></td>
                    <td>Cycle through search results</td>
                </tr>
                <tr>
                    <td><span class="code">Escape</span></td>
                    <td>Clear selection/Close modals</td>
                </tr>
            </table>

            <h2>6. Complete Workflows</h2>

            <h3>6.1 Adding a Dot</h3>
            <div class="workflow">
                <ol>
                    <li>Load a PDF file</li>
                    <li>Select a marker type in the filter panel (or it uses the active one)</li>
                    <li><strong>Left-click on empty map area</strong></li>
                    <li>Dot appears immediately with next available location number</li>
                    <li>Dot uses the active marker type's color and properties</li>
                    <li>Location list updates automatically</li>
                </ol>
            </div>

            <h3>6.2 Editing a Dot</h3>
            <div class="workflow">
                <ol>
                    <li><strong>Right-click on any dot</strong></li>
                    <li><strong>Edit Location modal opens IMMEDIATELY</strong></li>
                    <li>
                        Modal shows:
                        <ul>
                            <li>Marker Type dropdown</li>
                            <li>Location Number field</li>
                            <li>Message field</li>
                            <li>Message 2 field</li>
                            <li>Notes textarea</li>
                            <li>Checkboxes: Code Required, Vinyl Backer, Installed</li>
                        </ul>
                    </li>
                    <li>Make changes and click UPDATE</li>
                    <li>Or click DELETE to remove the dot</li>
                </ol>
            </div>

            <h3>6.3 Using Automap</h3>
            <div class="workflow">
                <ol>
                    <li>Select marker type in dropdown</li>
                    <li>Enter search text</li>
                    <li>Choose "Exact Phrase" or not</li>
                    <li>Click "AUTOMAP IT!"</li>
                    <li>
                        Progress modal appears with:
                        <ul>
                            <li>Progress bar</li>
                            <li>Activity feed showing each step</li>
                            <li>Cancel button</li>
                        </ul>
                    </li>
                    <li>Dots are created at all text matches</li>
                    <li>Results summary shown when complete</li>
                </ol>
            </div>

            <h3>6.4 Scraping Text</h3>
            <div class="workflow">
                <strong>Regular Scrape:</strong>
                <ol>
                    <li>Hold Shift + Right mouse button</li>
                    <li>Drag to create selection box</li>
                    <li>Release to scrape text in area</li>
                    <li>Dots created for each text cluster</li>
                </ol>
                <strong>OCR Scrape:</strong>
                <ol>
                    <li>Hold Ctrl + Shift + Right mouse button</li>
                    <li>Drag to create selection box</li>
                    <li>Release to start OCR processing</li>
                    <li>Progress shown in status area</li>
                </ol>
            </div>

            <h2>7. Modal Dialogs</h2>

            <h3>7.1 Edit Location Modal</h3>
            <div class="modal-box">
                <strong>Trigger:</strong> Right-click on single dot<br />
                <strong>Layout:</strong>
                <ul>
                    <li>Header with title and 3 checkboxes on right</li>
                    <li>Form fields in body</li>
                    <li>Three buttons at bottom: DELETE | CANCEL | UPDATE</li>
                </ul>
            </div>

            <h3>7.2 Group Edit Modal</h3>
            <div class="modal-box">
                <strong>Trigger:</strong> Right-click when multiple dots selected<br />
                <strong>Special:</strong> Shows count of selected dots<br />
                <strong>Fields:</strong> Same as single edit but with "Keep Individual" options
            </div>

            <h3>7.3 PDF Export Options Modal</h3>
            <div class="modal-box">
                <strong>Trigger:</strong> Click CREATE PDF button<br />
                <strong>Options:</strong>
                <ol>
                    <li>Current Map - With Detail Pages</li>
                    <li>Current Map Only</li>
                    <li>All Maps Only</li>
                </ol>
            </div>

            <h3>7.4 Automap Progress Modal</h3>
            <div class="modal-box">
                <strong>Shows:</strong>
                <ul>
                    <li>Progress bar with percentage</li>
                    <li>Activity feed (scrollable)</li>
                    <li>Cancel button during operation</li>
                    <li>Close button when complete</li>
                    <li>Results summary</li>
                </ul>
            </div>

            <h3>7.5 Renumber Options Modal</h3>
            <div class="modal-box">
                <strong>Options:</strong>
                <ol>
                    <li>Current Page Only</li>
                    <li>Current Page by Marker Type</li>
                    <li>All Pages</li>
                    <li>All Pages by Marker Type</li>
                </ol>
            </div>

            <h2>8. Special Features</h2>

            <h3>8.1 Collision Detection</h3>
            <ul>
                <li>Minimum distance: (20 √ó dotSize √ó 2) + 1 pixels</li>
                <li>Cannot place dots too close together</li>
                <li>Visual feedback when collision detected</li>
            </ul>

            <h3>8.2 Viewport Virtualization</h3>
            <ul>
                <li>Only visible dots are rendered</li>
                <li>Improves performance with many dots</li>
                <li>Updates on pan/zoom</li>
            </ul>

            <h3>8.3 Design Reference Images</h3>
            <ul>
                <li>Click square in marker type row</li>
                <li>Upload image (auto-resized to 200√ó200)</li>
                <li>Hover to preview</li>
                <li>Shows in legends</li>
            </ul>

            <h3>8.4 Undo/Redo System</h3>
            <ul>
                <li>Tracks last 50 operations</li>
                <li>Descriptive action names</li>
                <li>Full state restoration</li>
            </ul>

            <h2>9. Error States & Feedback</h2>

            <h3>9.1 Status Messages</h3>
            <ul>
                <li>Green for success</li>
                <li>Red for errors</li>
                <li>Auto-dismiss after 5 seconds</li>
                <li>Appear at bottom of map</li>
            </ul>

            <h3>9.2 Loading States</h3>
            <ul>
                <li>Buttons show "Processing..." text</li>
                <li>Disabled state during operations</li>
                <li>Progress bars for long operations</li>
            </ul>

            <h3>9.3 Empty States</h3>
            <ul>
                <li>Upload prompt when no PDF</li>
                <li>"Click to add first dot" in list</li>
                <li>Disabled controls show intent</li>
            </ul>

            <h2>10. Data Persistence</h2>

            <h3>10.1 Project Files (.mslay)</h3>
            <ul>
                <li>Binary format with JSON + PDF data</li>
                <li>Includes all dots, settings, and original PDF</li>
                <li>Compressed with pako.js</li>
            </ul>

            <h3>10.2 Session Storage</h3>
            <ul>
                <li>Disclaimer agreement</li>
                <li>Recent searches (last 10)</li>
                <li>Window preferences</li>
            </ul>

            <div class="important">
                <h3>üéØ Key Takeaway</h3>
                The original Mapping Slayer has a clean, direct interaction model:
                <ul>
                    <li>Left-click to add dots</li>
                    <li>Right-click to edit (no context menu!)</li>
                    <li>Shift+drag to select multiple</li>
                    <li>All controls are immediately accessible</li>
                    <li>Visual feedback is instant and clear</li>
                </ul>
            </div>
        </div>
    </body>
</html>
