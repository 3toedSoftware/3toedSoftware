<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Test Data Sync - Thumbnail & Mapping Slayer</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                padding: 20px;
                background: #1a1a1a;
                color: #fff;
                max-width: 1200px;
                margin: 0 auto;
            }
            h1,
            h2 {
                color: #f07727;
            }
            .test-section {
                background: #2a2a2a;
                padding: 20px;
                margin: 20px 0;
                border-radius: 8px;
            }
            .instructions {
                background: #333;
                padding: 15px;
                border-left: 4px solid #f07727;
                margin: 15px 0;
            }
            .test-step {
                margin: 10px 0;
                padding: 10px;
                background: #1a1a1a;
                border-radius: 4px;
            }
            .check {
                color: #95e77e;
                font-weight: bold;
            }
            .important {
                color: #ffd93d;
                font-weight: bold;
            }
            code {
                background: #444;
                padding: 2px 5px;
                border-radius: 3px;
                color: #4ecdc4;
            }
        </style>
    </head>
    <body>
        <h1>ðŸ“Š Data Sync Test Guide</h1>
        <p>
            This guide helps you test the bidirectional data synchronization between Thumbnail
            Slayer and Mapping Slayer.
        </p>

        <div class="test-section">
            <h2>Test 1: Message Field Sync</h2>
            <div class="instructions">
                <p class="important">
                    âœ¨ Tests that message edits in the spreadsheet sync to Mapping Slayer
                </p>
            </div>

            <div class="test-step">
                <strong>Step 1:</strong> Open Slayer Suite and activate
                <code>Thumbnail Slayer</code>
            </div>
            <div class="test-step">
                <strong>Step 2:</strong> In the spreadsheet, double-click a
                <code>Message 1</code> cell
            </div>
            <div class="test-step">
                <strong>Step 3:</strong> Type a new message like "Test Sync 123" and press Enter
            </div>
            <div class="test-step">
                <strong>Step 4:</strong> Switch to <code>Mapping Slayer</code>
            </div>
            <div class="test-step">
                <strong>Step 5:</strong> Find the same location dot and check its info panel
            </div>
            <div class="test-step">
                <span class="check">âœ“ Expected:</span> The message should show "Test Sync 123"
            </div>
        </div>

        <div class="test-section">
            <h2>Test 2: Flag Checkbox Sync</h2>
            <div class="instructions">
                <p class="important">âœ¨ Tests that flag checkbox changes sync properly</p>
            </div>

            <div class="test-step">
                <strong>Step 1:</strong> In Thumbnail Slayer spreadsheet, find the
                <code>Flag 1-4</code> columns
            </div>
            <div class="test-step">
                <strong>Step 2:</strong> Click any checkbox to toggle it (checked/unchecked)
            </div>
            <div class="test-step">
                <strong>Step 3:</strong> Note which location and flag you changed
            </div>
            <div class="test-step">
                <strong>Step 4:</strong> Switch to <code>Mapping Slayer</code>
            </div>
            <div class="test-step">
                <strong>Step 5:</strong> Find the same location and check its corner flags
            </div>
            <div class="test-step">
                <span class="check">âœ“ Expected:</span> The flag corners should match the checkboxes
                <ul>
                    <li>Flag 1 = Top Left corner</li>
                    <li>Flag 2 = Top Right corner</li>
                    <li>Flag 3 = Bottom Left corner</li>
                    <li>Flag 4 = Bottom Right corner</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h2>Test 3: Reverse Sync (Mapping â†’ Thumbnail)</h2>
            <div class="instructions">
                <p class="important">
                    âœ¨ Tests that changes in Mapping Slayer appear in Thumbnail Slayer
                </p>
            </div>

            <div class="test-step">
                <strong>Step 1:</strong> Start in <code>Mapping Slayer</code>
            </div>
            <div class="test-step">
                <strong>Step 2:</strong> Click on any location dot to select it
            </div>
            <div class="test-step"><strong>Step 3:</strong> Edit the message in the info panel</div>
            <div class="test-step">
                <strong>Step 4:</strong> Toggle one of the corner flag checkboxes
            </div>
            <div class="test-step">
                <strong>Step 5:</strong> Switch to <code>Thumbnail Slayer</code>
            </div>
            <div class="test-step">
                <strong>Step 6:</strong> Find the same location in the spreadsheet
            </div>
            <div class="test-step">
                <span class="check">âœ“ Expected:</span> The spreadsheet should show your changes
                immediately
            </div>
        </div>

        <div class="test-section">
            <h2>Test 4: Batch Operations</h2>
            <div class="instructions">
                <p class="important">âœ¨ Tests copy/paste operations with sync</p>
            </div>

            <div class="test-step">
                <strong>Step 1:</strong> In Thumbnail Slayer, select multiple cells (click and drag)
            </div>
            <div class="test-step"><strong>Step 2:</strong> Copy with <code>Ctrl+C</code></div>
            <div class="test-step">
                <strong>Step 3:</strong> Select a different range and paste with <code>Ctrl+V</code>
            </div>
            <div class="test-step"><strong>Step 4:</strong> Switch to Mapping Slayer</div>
            <div class="test-step">
                <span class="check">âœ“ Expected:</span> All pasted values should be synced to the
                corresponding locations
            </div>
        </div>

        <div class="test-section">
            <h2>Test 5: Preview Update</h2>
            <div class="instructions">
                <p class="important">âœ¨ Tests that thumbnails update when data changes</p>
            </div>

            <div class="test-step">
                <strong>Step 1:</strong> In Thumbnail Slayer, click the colored DOT in the first
                column
            </div>
            <div class="test-step">
                <strong>Step 2:</strong> The preview should appear on the right
            </div>
            <div class="test-step">
                <strong>Step 3:</strong> Edit the message fields in the spreadsheet
            </div>
            <div class="test-step">
                <span class="check">âœ“ Expected:</span> The preview should update immediately
                showing:
                <ul>
                    <li>New message text on the sign</li>
                    <li>Red "FONT NOT FOUND" banner at top (if no fonts configured)</li>
                    <li>Correct sign colors based on marker type</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h2>ðŸ”§ Troubleshooting</h2>
            <div class="instructions">
                <p>If sync isn't working:</p>
                <ol>
                    <li>Check browser console for errors (F12)</li>
                    <li>Ensure both apps show "connected" status</li>
                    <li>Try refreshing the page and re-testing</li>
                    <li>
                        Verify the App Bridge is initialized (check for
                        <code>window.appBridge</code> in console)
                    </li>
                </ol>
            </div>
        </div>

        <div class="test-section">
            <h2>âœ… Success Indicators</h2>
            <ul>
                <li class="check">Changes appear immediately when switching apps</li>
                <li class="check">No console errors during sync operations</li>
                <li class="check">Flag checkboxes map correctly to corner positions</li>
                <li class="check">Message fields sync bidirectionally</li>
                <li class="check">Thumbnails update when data changes</li>
                <li class="check">Copy/paste operations sync all affected cells</li>
            </ul>
        </div>
    </body>
</html>
